{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["/* eslint-disable no-shadow */\n'use strict';\n\nconst head = document.querySelector('thead');\nconst body = document.querySelector('tbody');\nlet sortOrder = 'ASC';\nlet sortColumnIndex = -1;\nconst inputs = ['Name', 'Position', 'Office', 'Age', 'Salary'];\nconst offices = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nlet isEnterPressed = false;\n\nconst notificationDiv = document.createElement('div');\n\nnotificationDiv.style.position = 'absolute';\nnotificationDiv.style.top = '10px';\nnotificationDiv.style.right = '10px';\n\ndocument.body.appendChild(notificationDiv);\n\n// #region validation\nconst validateName = (name) => {\n  if (name.length < 4) {\n    pushNotification(\n      'Name Error',\n      'Name value has less than 4 letters',\n      'error',\n    );\n\n    return true;\n  }\n\n  return false;\n};\n\nconst validateSalary = (salary) => {\n  if (isNaN(salary)) {\n    pushNotification('Salary Error', 'Salary must be a number', 'error');\n\n    return true;\n  }\n\n  return false;\n};\n\nconst validateAge = (age) => {\n  if (isNaN(age)) {\n    pushNotification('Age Error', 'Age must be a number', 'error');\n\n    return true;\n  }\n\n  if (+age < 18 || +age > 90) {\n    pushNotification(\n      'Age Error',\n      'Age value is less than 18 or more than 90',\n      'error',\n    );\n\n    return true;\n  }\n\n  return false;\n};\n\nconst validateRequired = (value) => {\n  if (value.length === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nconst validation = (values) => {\n  let hasError = false;\n  let requiredError = false;\n\n  for (const fieldsValue of values) {\n    const { key, value } = fieldsValue;\n\n    if (validateRequired(value)) {\n      requiredError = true;\n      hasError = true;\n    }\n\n    if (key === 'name') {\n      hasError = hasError || validateName(value);\n    }\n\n    if (key === 'age') {\n      hasError = hasError || validateAge(value);\n    }\n\n    if (key === 'salary' && value === '$') {\n      requiredError = true;\n      hasError = true;\n    }\n  }\n\n  if (requiredError) {\n    pushNotification('Error', 'All fields are required', 'error');\n  }\n\n  return hasError;\n};\n// #endregion\n\nhead.addEventListener('click', (e) => {\n  const rows = [...document.querySelectorAll('tbody tr')];\n  const index = [...e.target.parentNode.children].indexOf(e.target);\n\n  if (sortColumnIndex === index && sortOrder === 'ASC') {\n    sortOrder = 'DESC';\n  } else {\n    sortColumnIndex = index;\n    sortOrder = 'ASC';\n  }\n\n  rows.sort((row1, row2) => {\n    const columns1 = [...row1.querySelectorAll('td')];\n    const columns2 = [...row2.querySelectorAll('td')];\n    const cell1 = columns1[index].textContent;\n    const cell2 = columns2[index].textContent;\n\n    if (index <= 2) {\n      return sortOrder === 'ASC'\n        ? cell1.localeCompare(cell2)\n        : cell2.localeCompare(cell1);\n    } else {\n      const first = +cell1.replace(/[$,]/g, '');\n      const second = +cell2.replace(/[$,]/g, '');\n\n      return sortOrder === 'ASC' ? first - second : second - first;\n    }\n  });\n\n  body.innerHTML = '';\n\n  rows.forEach((row) => {\n    body.appendChild(row);\n  });\n});\n\n// #region change\nconst changeValue = (oldData) => {\n  const input = document.querySelector('.cell-input');\n  const cell = input.closest('td');\n  const index = [...cell.parentNode.children].indexOf(cell);\n  const value = input.value.trim();\n  let hasError = false;\n\n  switch (index) {\n    case 0:\n      hasError = validateName(value) ? true : hasError;\n      break;\n    case 3:\n      hasError = validateAge(value) ? true : hasError;\n      break;\n    case 4:\n      hasError = validateSalary(value) ? true : hasError;\n      break;\n  }\n\n  if (index !== 4) {\n    cell.textContent = value === '' || hasError ? oldData : value;\n  } else {\n    cell.textContent =\n      value === '' || hasError\n        ? oldData\n        : '$' + value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  input.remove();\n};\n\nconst onEnter = (e, oldData) => {\n  if (e.keyCode === 13) {\n    isEnterPressed = true;\n    changeValue(oldData);\n  }\n};\n\nconst checkOtherSelect = () => {\n  const otherSelect = body.querySelector('select');\n\n  if (otherSelect) {\n    otherSelect.closest('td').textContent = otherSelect.value;\n    otherSelect.remove();\n  }\n};\n// #endregion\n\nbody.addEventListener('dblclick', (e) => {\n  const cell = e.target.closest('td');\n  const oldData = cell.textContent;\n  const index = [...cell.parentNode.children].indexOf(cell);\n\n  checkOtherSelect();\n\n  cell.textContent = '';\n\n  if (index !== 2) {\n    const input = document.createElement('input');\n\n    input.value = index === 4 ? oldData.replace(/[$,]/g, '') : oldData;\n    input.classList.add('cell-input');\n    input.focus();\n\n    input.onblur = () => {\n      if (!isEnterPressed) {\n        changeValue(oldData);\n      }\n      isEnterPressed = false;\n    };\n\n    input.addEventListener('keydown', (event) => {\n      onEnter(event, oldData);\n    });\n\n    cell.appendChild(input);\n\n    input.focus();\n  } else {\n    const select = document.querySelector('select').cloneNode(true);\n\n    select.classList.add('cell-input');\n    select.value = oldData;\n\n    cell.appendChild(select);\n\n    select.addEventListener('change', (event) => {\n      cell.textContent = event.target.value;\n\n      select.remove();\n    });\n\n    setTimeout(() => {\n      select.focus();\n    }, 10);\n  }\n});\n\nbody.addEventListener('click', (e) => {\n  const allRows = [...body.querySelectorAll('tr')];\n\n  allRows.forEach((row) => {\n    row.classList.remove('active');\n  });\n\n  e.target.closest('tr').classList.add('active');\n});\n\n// #region notification\nconst pushNotification = (title, description, type) => {\n  const notification = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  notification.classList.add('notification', type);\n  notification.dataset.qa = 'notification';\n  notification.position = 'relative';\n  messageTitle.classList.add('title');\n  messageTitle.textContent = title;\n  messageDescription.textContent = description;\n\n  notification.appendChild(messageTitle);\n  notification.appendChild(messageDescription);\n\n  notification.style.position = 'relative';\n\n  notificationDiv.appendChild(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n};\n// #endregion\n\nconst formSubmit = (e) => {\n  e.preventDefault();\n\n  let hasError = false;\n\n  const formData = new FormData(e.target.closest('form'));\n\n  const fields = ['name', 'position', 'office', 'age', 'salary'];\n\n  const fieldValues = fields.map((field) => {\n    let value = formData.get(field).trim();\n\n    if (field === 'salary') {\n      value = '$' + value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n\n    return {\n      key: field,\n      value,\n    };\n  });\n\n  hasError = validation(fieldValues);\n\n  if (!hasError) {\n    const row = document.createElement('tr');\n\n    fieldValues.forEach((value) => {\n      const col = document.createElement('td');\n\n      col.textContent = value.value;\n      row.appendChild(col);\n    });\n\n    body.appendChild(row);\n\n    pushNotification(\n      'Add new employee',\n      'New employee was added to table',\n      'success',\n    );\n  }\n};\n\nconst createForm = () => {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  inputs.forEach((eachInput) => {\n    const label = document.createElement('label');\n    let input = document.createElement('select');\n\n    if (eachInput !== 'Office') {\n      input = document.createElement('input');\n\n      switch (eachInput) {\n        case 'Age':\n        case 'Salary':\n          input.type = 'number';\n          break;\n        default:\n          input.type = 'text';\n      }\n    }\n\n    label.textContent = `${eachInput}: `;\n    input.name = eachInput.toLowerCase();\n    input.dataset.qa = eachInput.toLowerCase();\n\n    label.appendChild(input);\n    form.appendChild(label);\n  });\n\n  const office = form.querySelector('select');\n\n  offices.forEach((eachOffice) => {\n    const option = document.createElement('option');\n\n    option.textContent = eachOffice;\n    option.value = eachOffice;\n    office.appendChild(option);\n  });\n\n  const button = document.createElement('button');\n\n  button.type = 'submit';\n  button.textContent = 'Save to table';\n  form.appendChild(button);\n  form.addEventListener('submit', formSubmit);\n\n  return form;\n};\n\ndocument.body.appendChild(createForm());\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}