function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,o=document.querySelector("thead"),l=document.querySelector("tbody"),c="ASC",i=-1,d=!1,u=document.createElement("div");u.style.position="absolute",u.style.top="10px",u.style.right="10px",document.body.appendChild(u);var s=function(e){return e.length<4&&(h("Name Error","Name value has less than 4 letters","error"),!0)},m=function(e){return isNaN(e)?(h("Age Error","Age must be a number","error"),!0):(18>+e||+e>90)&&(h("Age Error","Age value is less than 18 or more than 90","error"),!0)},f=function(e){var t=!1,n=!1,r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var i=l.value,d=i.key,u=i.value;0===u.length&&(n=!0,t=!0),"name"===d&&(t=t||s(u)),"age"===d&&(t=t||m(u)),"salary"===d&&"$"===u&&(n=!0,t=!0)}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n&&h("Error","All fields are required","error"),t};o.addEventListener("click",function(e){var n=t(document.querySelectorAll("tbody tr")),r=t(e.target.parentNode.children).indexOf(e.target);i===r&&"ASC"===c?c="DESC":(i=r,c="ASC"),n.sort(function(e,n){var a=t(e.querySelectorAll("td")),o=t(n.querySelectorAll("td")),l=a[r].textContent,i=o[r].textContent;if(r<=2)return"ASC"===c?l.localeCompare(i):i.localeCompare(l);var d=+l.replace(/[$,]/g,""),u=+i.replace(/[$,]/g,"");return"ASC"===c?d-u:u-d}),l.innerHTML="",n.forEach(function(e){l.appendChild(e)})});var p=function(e){var n=document.querySelector(".cell-input"),r=n.closest("td"),a=t(r.parentNode.children).indexOf(r),o=n.value.trim(),l=!1;switch(a){case 0:l=!!s(o)||l;break;case 3:l=!!m(o)||l;break;case 4:l=!!(isNaN(o)&&(h("Salary Error","Salary must be a number","error"),1))||l}4!==a?r.textContent=""===o||l?e:o:r.textContent=""===o||l?e:"$"+o.replace(/\B(?=(\d{3})+(?!\d))/g,","),n.remove()},v=function(e,t){13===e.keyCode&&(d=!0,p(t))},y=function(){var e=l.querySelector("select");e&&(e.closest("td").textContent=e.value,e.remove())};l.addEventListener("dblclick",function(e){var n=e.target.closest("td"),r=n.textContent,a=t(n.parentNode.children).indexOf(n);if(y(),n.textContent="",2!==a){var o=document.createElement("input");o.value=4===a?r.replace(/[$,]/g,""):r,o.classList.add("cell-input"),o.focus(),o.onblur=function(){d||p(r),d=!1},o.addEventListener("keydown",function(e){v(e,r)}),n.appendChild(o),o.focus()}else{var l=document.querySelector("select").cloneNode(!0);l.classList.add("cell-input"),l.value=r,n.appendChild(l),l.addEventListener("change",function(e){n.textContent=e.target.value,l.remove()}),setTimeout(function(){l.focus()},10)}}),l.addEventListener("click",function(e){t(l.querySelectorAll("tr")).forEach(function(e){e.classList.remove("active")}),e.target.closest("tr").classList.add("active")});var h=function(e,t,n){var r=document.createElement("div"),a=document.createElement("h2"),o=document.createElement("p");r.classList.add("notification",n),r.dataset.qa="notification",r.position="relative",a.classList.add("title"),a.textContent=e,o.textContent=t,r.appendChild(a),r.appendChild(o),r.style.position="relative",u.appendChild(r),setTimeout(function(){r.remove()},2e3)};document.body.appendChild(((n=document.createElement("form")).classList.add("new-employee-form"),["Name","Position","Office","Age","Salary"].forEach(function(e){var t=document.createElement("label"),r=document.createElement("select");if("Office"!==e)switch(r=document.createElement("input"),e){case"Age":case"Salary":r.type="number";break;default:r.type="text"}t.textContent="".concat(e,": "),r.name=e.toLowerCase(),r.dataset.qa=e.toLowerCase(),t.appendChild(r),n.appendChild(t)}),r=n.querySelector("select"),["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"].forEach(function(e){var t=document.createElement("option");t.textContent=e,t.value=e,r.appendChild(t)}),(a=document.createElement("button")).type="submit",a.textContent="Save to table",n.appendChild(a),n.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(e.target.closest("form")),n=["name","position","office","age","salary"].map(function(e){var n=t.get(e).trim();return"salary"===e&&(n="$"+n.replace(/\B(?=(\d{3})+(?!\d))/g,",")),{key:e,value:n}});if(!f(n)){var r=document.createElement("tr");n.forEach(function(e){var t=document.createElement("td");t.textContent=e.value,r.appendChild(t)}),l.appendChild(r),h("Add new employee","New employee was added to table","success")}}),n));
//# sourceMappingURL=index.51beffa5.js.map
